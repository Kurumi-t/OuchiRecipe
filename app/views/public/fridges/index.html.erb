<div class="container">
  <h5 class="text-center mb-3">冷蔵庫（おうちにある食材を追加しよう！）</h5>
  <%= form_with model: @fridge, local: true do |f| %>
  <div class="col-10 mx-auto">
    <div class="row pt-3">
      <div class="col-3"><%= f.select :genre, Fridge.genres.keys.map { |k| [I18n.t("enums.fridge.genre.#{k}"), k]},{},{class:"form-control form-control-sm text-center"} %></div>
      <div class="col-3"><%= f.text_field :food_name, maxlength: '20', placeholder: 'たまねぎ', class: "form-control" %></div>
      <div class="col-2"><%= f.number_field :amount, step: "0.1", min: 0, max: 2000, class: "form-control" %></div>
      <div class="col-2"><%= f.text_field :unit, placeholder: '個、g', class: "form-control" %></div>
      <div class="col-2"><%= f.submit '冷蔵庫に入れる', class:"btn btn-info font-weight-bold px-4" %></div>
    </div>
  </div>
  <% end %>
  <div class="row pt-3">
    <table class="col-8 mx-auto mt-3 table borderless">
      <tbody class="border-bottom">
      <% @fridges.each do |fridge| %>
        <tr>
        <%= form_with model: @fridge, url: fridge_path(fridge.id), method: :PATCH, local: true do |f| %>
          <td class="col-3 align-bottom"><%= fridge.food_name %></td>
          <td class="col-1 align-bottom"><%= rounded_decimel(fridge.amount) %><%= fridge.unit %></td>
          <td class="col-2"><%= f.number_field :amount, step: "0.1", min: 0, max: 2000, class: "form-control" %></td>
          <td class="col-1 align-bottom"><%= fridge.unit %></td>
          <td class="col-2"><%= f.submit '変更', class:"btn btn-info font-weight-bold px-2 mr-2" %><%= link_to("削除", fridge_path(fridge.id), method: :delete, class: "btn btn-danger font-weight-bold px-2") %></td>
        <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
